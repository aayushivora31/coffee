{% extends 'coffee/base.html' %}

{% block title %}Order Confirmation - CoffeeShop{% endblock %}

{% block content %}
<section class="section-padding">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="text-center mb-5">
                    <div class="display-1 text-success mb-3">
                        <i class="bi bi-check-circle-fill"></i>
                    </div>
                    <h2 class="text-coffee">Order Confirmed!</h2>
                    <p class="lead text-muted">Thank you for your order. We're preparing it now!</p>
                </div>
                
                <div class="card shadow-lg">
                    <div class="card-header bg-coffee text-white">
                        <div class="row align-items-center">
                            <div class="col">
                                <h5 class="mb-0">Order #{{ order.order_id }}</h5>
                            </div>
                            <div class="col-auto">
                                <span class="badge bg-light text-dark">{{ order.get_status_display }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <h6>Customer Information</h6>
                                <p class="mb-1"><strong>Name:</strong> {{ order.customer_name }}</p>
                                <p class="mb-1"><strong>Email:</strong> {{ order.customer_email }}</p>
                                {% if order.customer_phone %}
                                    <p class="mb-1"><strong>Phone:</strong> {{ order.customer_phone }}</p>
                                {% endif %}
                            </div>
                            <div class="col-md-6">
                                <h6>Order Information</h6>
                                <p class="mb-1"><strong>Order Date:</strong> {{ order.created_at|date:"M d, Y" }}</p>
                                <p class="mb-1"><strong>Order Time:</strong> {{ order.created_at|time:"g:i A" }}</p>
                                <p class="mb-1"><strong>Currency:</strong> {{ order.currency }}</p>
                            </div>
                        </div>
                        
                        <h6>Order Items</h6>
                        <div class="table-responsive">
                            <table class="table table-borderless">
                                <thead>
                                    <tr>
                                        <th>Item</th>
                                        <th>Quantity</th>
                                        <th>Price</th>
                                        <th>Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for item in order.orderitem_set.all %}
                                        <tr>
                                            <td>{{ item.menu_item.name }}</td>
                                            <td>{{ item.quantity }}</td>
                                            <td>{{ currency_symbol }}{{ item.price }}</td>
                                            <td>{{ currency_symbol }}{{ item.total_price }}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                                <tfoot>
                                    <tr class="border-top">
                                        <th colspan="3">Total Amount</th>
                                        <th class="text-coffee">{{ currency_symbol }}{{ order.total_amount }}</th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                        
                        {% if order.notes %}
                            <div class="mt-3">
                                <h6>Special Instructions</h6>
                                <p class="text-muted">{{ order.notes }}</p>
                            </div>
                        {% endif %}
                    </div>
                    <div class="card-footer bg-light">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>What's Next?</h6>
                                <ul class="list-unstyled small">
                                    <li><i class="bi bi-check text-success me-2"></i>Order received and confirmed</li>
                                    <li><i class="bi bi-clock text-warning me-2"></i>Kitchen is preparing your order</li>
                                    <li><i class="bi bi-box text-muted me-2"></i>Order will be ready for pickup/delivery</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6>Estimated Time</h6>
                                <p class="mb-1">Your order will be ready in approximately:</p>
                                <h4 class="text-coffee">15-20 minutes</h4>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-4">
                    <a href="{% url 'menu' %}" class="btn btn-coffee me-3">
                        <i class="bi bi-cup-hot me-2"></i>Order Again
                    </a>
                    <a href="{% url 'home' %}" class="btn btn-outline-coffee">
                        <i class="bi bi-house me-2"></i>Back to Home
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.display-1 {
    font-size: 6rem;
}

@media (max-width: 768px) {
    .display-1 {
        font-size: 4rem;
    }
}
</style>
{% endblock %}